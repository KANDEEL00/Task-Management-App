<div class="container">
  <div class="list-container">
    <h2>Task List</h2>
    <ul>
      <li *ngFor="let task of tasks" [class.completed]="task.completed">
        <input
          type="checkbox"
          [checked]="task.completed"
          (change)="toggleTaskStatus(task)"
        />
        {{ task.name }} - {{ task.description }} - {{ task.dueDate | date }}
        <button (click)="editTask(task)">Edit</button>
        <button (click)="deleteTask(task.id)">Delete</button>
      </li>
    </ul>
  </div>
  <div class="form-container">
    <h2>Add/Edit Task</h2>
    <div *ngIf="editingTaskId === null; else editTemplate">
      <input [(ngModel)]="newTask.name" placeholder="Name" />
      <input [(ngModel)]="newTask.description" placeholder="Description" />
      <input [(ngModel)]="newTask.dueDate" type="date" />
      <button (click)="addTask()">Add Task</button>
    </div>
    <ng-template #editTemplate>
      <input [(ngModel)]="newTask.name" placeholder="Name" />
      <input [(ngModel)]="newTask.description" placeholder="Description" />
      <input [(ngModel)]="newTask.dueDate" type="date" />
      <button (click)="updateTask()">Update</button>
      <button (click)="cancelEditing()">Cancel</button>
    </ng-template>
  </div>
</div>
